(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{3147:(e,t,s)=>{Promise.resolve().then(s.bind(s,3686))},3686:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(5155),l=s(2115),r=s(1787),d=s(6046),c=s(8173),n=s.n(c),i=s(5055),o=s(9757);let x=()=>{let[e,t]=(0,l.useState)([]),[s,c]=(0,l.useState)(!0),[x,m]=(0,l.useState)(!1),h=(0,d.useRouter)();(0,l.useEffect)(()=>{(async()=>{try{let e=(await (0,r.GG)((0,r.rJ)(r.db,"letters"))).docs.map(e=>({id:e.id,title:e.data().title,content:e.data().content,createdAt:new Date(1e3*e.data().createdAt.seconds).toLocaleString()}));t(e)}catch(e){console.error("Error fetching letters:",e)}finally{c(!1)}})()},[]);let g=async()=>{try{await (0,r.CI)(r.j2),alert("Logged out successfully"),h.push("/login")}catch(e){console.error("Error logging out:",e)}};return s?(0,a.jsx)("div",{className:"container flex justify-center items-center h-screen mx-auto",children:(0,a.jsxs)("div",{className:"loading-text",children:["Loading",(0,a.jsx)("span",{className:"dot-animation",children:"."}),(0,a.jsx)("span",{className:"dot-animation",children:"."}),(0,a.jsx)("span",{className:"dot-animation",children:"."})]})}):(0,a.jsxs)("div",{className:"container mx-auto flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"w-[90%] bg-gray-100 rounded-full px-5 py-2 my-2 mx-5 flex justify-between items-center",children:[(0,a.jsx)(n(),{href:"/dashboard",className:"text-2xl font-bold  px-5 py-2",children:"Lettr."}),(0,a.jsxs)("div",{className:"md:hidden relative",children:[(0,a.jsx)("button",{onClick:()=>m(!x),className:"underline text-black",children:(0,a.jsx)(o.g,{icon:i.ckx,className:" px-5 py-2"})}),x&&(0,a.jsxs)("div",{className:"absolute w-[200px] right-0 mt-2 bg-white border rounded-md shadow-lg z-10",children:[(0,a.jsx)(n(),{href:"/addLetter",className:"block px-5 py-2 hover:bg-gray-200",children:"Add Letter"}),(0,a.jsx)("button",{onClick:g,className:"block px-5 py-2 text-left hover:bg-gray-200",children:"Logout"})]})]}),(0,a.jsxs)("div",{className:"hidden md:flex gap-4",children:[(0,a.jsx)(n(),{href:"/addLetter",className:"underline text-black pe-5",children:"Add Letter"}),(0,a.jsx)("button",{onClick:g,className:"underline text-black pe-5",children:"Logout"})]})]}),(0,a.jsx)("h2",{className:"text-lg font-bold my-5 ",children:"All Letters"}),(0,a.jsx)("div",{className:"max-w mb-5 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 mx-auto",children:e.length>0?e.map(e=>(0,a.jsxs)("div",{className:"p-4 bg-white rounded-xl shadow-md min-w-[250px] w-[300px] h-[300px] relative",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,a.jsx)("p",{className:"text-gray-700",children:e.content}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 absolute bottom-5",children:["Created At: ",e.createdAt]})]},e.id)):(0,a.jsx)("p",{children:"No letters found."})})]})}},1787:(e,t,s)=>{"use strict";s.d(t,{CI:()=>l.CI,GG:()=>r.GG,db:()=>n,gS:()=>r.gS,j2:()=>c,rJ:()=>r.rJ});var a=s(9904),l=s(399),r=s(7058);let d=(0,a.Wp)({apiKey:"AIzaSyBr1zhteOU7MyhtYZ_w_xYk7F_t447sJWc",authDomain:"lettr-dfb1e.firebaseapp.com",projectId:"lettr-dfb1e",storageBucket:"lettr-dfb1e.firebasestorage.app",messagingSenderId:"38465085922",appId:"1:38465085922:web:638eabc68976d39eccd9bb"}),c=(0,l.xI)(d),n=(0,r.aU)(d)}},e=>{var t=t=>e(e.s=t);e.O(0,[992,533,266,173,459,306,441,517,358],()=>t(3147)),_N_E=e.O()}]);